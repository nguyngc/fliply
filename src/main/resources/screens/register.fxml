<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<StackPane xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="controller.RegisterController"
           prefWidth="375" prefHeight="750"
           style="-fx-background-color: #D9F4F1;">

    <ScrollPane fitToWidth="true"
                fitToHeight="true"
                hbarPolicy="NEVER"
                vbarPolicy="AS_NEEDED"
                style="-fx-background: transparent; -fx-background-color: transparent;">
        <content>

            <VBox spacing="0"
                  prefWidth="375">

                <!-- Top mint area with title -->
                <VBox spacing="10">
                    <padding>
                        <Insets top="70" right="26" bottom="22" left="26"/>
                    </padding>

                    <Label text="Register"
                           style="-fx-text-fill: #3D8FEF; -fx-font-size: 32px; -fx-font-weight: 700;"/>

                    <Label text="Create an account"
                           wrapText="true"
                           style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>
                </VBox>

                <!-- White section: FULL WIDTH + grows to bottom -->
                <VBox spacing="18"
                      VBox.vgrow="ALWAYS"
                      style="-fx-background-color: white;
                             -fx-background-radius: 26 26 0 0;">
                    <padding>
                        <Insets top="26" right="26" bottom="0" left="26"/>
                    </padding>

                    <!-- First Name -->
                    <VBox spacing="8">
                        <Label text="First Name"
                               style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>

                        <TextField fx:id="firstNameField"
                                   promptText="First Name"
                                   style="-fx-background-color: white;
                                          -fx-background-radius: 14;
                                          -fx-border-color: rgba(31, 31, 57, 0.20);
                                          -fx-border-radius: 10;
                                          -fx-padding: 10 15;
                                          -fx-font-size: 14px;"/>
                    </VBox>

                    <!-- Last Name -->
                    <VBox spacing="8">
                        <Label text="Last Name"
                               style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>

                        <TextField fx:id="lastNameField"
                                   promptText="Last Name"
                                   style="-fx-background-color: white;
                                          -fx-background-radius: 14;
                                          -fx-border-color: rgba(31, 31, 57, 0.20);
                                          -fx-border-radius: 10;
                                          -fx-padding: 10 15;
                                          -fx-font-size: 14px;"/>
                    </VBox>

                    <!-- Email -->
                    <VBox spacing="8">
                        <Label text="Email"
                               style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>

                        <TextField fx:id="emailField"
                                   promptText="Email"
                                   style="-fx-background-color: white;
                                          -fx-background-radius: 14;
                                          -fx-border-color: rgba(31, 31, 57, 0.20);
                                          -fx-border-radius: 10;
                                          -fx-padding: 10 15;
                                          -fx-font-size: 14px;"/>
                    </VBox>

                    <!-- Password (same show/hide structure as login) -->
                    <VBox spacing="8">
                        <Label text="Password"
                               style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>

                        <StackPane>
                            <PasswordField fx:id="passwordField"
                                           promptText="Password"
                                           style="-fx-background-color: white;
                                                  -fx-background-radius: 14;
                                                  -fx-border-color: rgba(31, 31, 57, 0.20);
                                                  -fx-border-radius: 10;
                                                  -fx-padding: 10 45 10 15;
                                                  -fx-font-size: 14px;"/>

                            <TextField fx:id="passwordTextField"
                                       promptText="Password"
                                       visible="false"
                                       managed="false"
                                       style="-fx-background-color: white;
                                              -fx-background-radius: 14;
                                              -fx-border-color: rgba(31, 31, 57, 0.20);
                                              -fx-border-radius: 10;
                                              -fx-padding: 10 45 10 15;
                                              -fx-font-size: 14px;"/>

                            <Button fx:id="togglePasswordBtn"
                                    focusTraversable="false"
                                    onAction="#togglePassword"
                                    StackPane.alignment="CENTER_RIGHT"
                                    style="-fx-background-color: transparent; -fx-cursor: hand;">
                                <graphic>
                                    <ImageView fx:id="eyeIcon"
                                               fitWidth="30"
                                               fitHeight="30"
                                               preserveRatio="true">
                                        <image>
                                            <Image url="@../images/eye_closed.png"/>
                                        </image>
                                    </ImageView>
                                </graphic>
                                <StackPane.margin>
                                    <Insets right="12"/>
                                </StackPane.margin>
                            </Button>
                        </StackPane>
                    </VBox>

                    <!-- Teacher? -->
                    <VBox spacing="10">
                        <Label text="Are you a teacher?"
                               style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>

                        <HBox spacing="22" alignment="CENTER_LEFT">
                            <!-- Define group -->
                            <fx:define>
                                <ToggleGroup fx:id="roleGroup"/>
                            </fx:define>

                            <RadioButton fx:id="teacherYes"
                                         toggleGroup="$roleGroup"
                                         text="Yes"
                                         style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>
                            <RadioButton fx:id="teacherNo"
                                         toggleGroup="$roleGroup"
                                         text="No"
                                         selected="true"
                                         style="-fx-text-fill: #8C8C8C; -fx-font-size: 14px; -fx-font-weight: 400;"/>
                        </HBox>
                    </VBox>

                    <!-- Terms -->
                    <HBox spacing="12" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS" minHeight="40">
                        <CheckBox fx:id="termsCheck"/>
                        <Label text="By creating an account you have to agree with our terms &amp; conditions."
                               wrapText="true"
                               style="-fx-text-fill: #858597; -fx-font-size: 12px; -fx-font-weight: 400;"/>
                    </HBox>

                    <!-- Register button -->
                    <Button fx:id="registerBtn"
                            text="Register"
                            onAction="#register"
                            maxWidth="Infinity"
                            style="-fx-background-color: #3D8FEF;
                                   -fx-background-radius: 10;
                                   -fx-text-fill: white;
                                   -fx-font-size: 16px;
                                   -fx-font-weight: 500;
                                   -fx-padding: 10px 32px 10px 32px;
                                   -fx-cursor: hand;"/>

                    <!-- Login link -->
                    <HBox alignment="CENTER" spacing="8">
                        <Label text="Already have an account ?"
                               style="-fx-text-fill: #858597; -fx-font-size: 12px; -fx-font-weight: 400;"/>
                        <Hyperlink text="Log in"
                                   onAction="#goLogin"
                                   style="-fx-text-fill: #3D8FEF; -fx-font-size: 12px; -fx-font-weight: 700;"/>
                    </HBox>

                    <!-- Spacer so white area reaches bottom -->
                    <Region VBox.vgrow="ALWAYS"/>
                </VBox>
            </VBox>

        </content>
    </ScrollPane>
</StackPane>
